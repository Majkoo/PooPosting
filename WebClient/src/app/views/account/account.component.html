
@if (!(account$ | async)) {
  <div>
    <pp-account-skeleton/>
  </div>
}
@if (account$ | async; as acc) {
  <div>
    <div class="w-full flex flex-col justify-center items-center my-3 gap-md" @fadeIn>
      <div class="flex w-full flex-col justify-center items-center">
        @if (isAccountCurrentUsers) {
          <div class="w-full flex justify-between items-center">
            <!--  Account settings  -->
            <button class="app-link">
              <span class="icon icon-setting"></span>
              <span>Settings</span>
            </button>
            <!--  Logout  -->
            <button
              class="app-link"
              (click)="logout()"
              >
              <span class="icon icon-play"></span>
              <span>Logout</span>
            </button>
          </div>
        }
        <img class="shadow-lg rounded-full object-contain aspect-square w-40 md:w-60 bg-grey dark:bg-dark-grey" src="{{acc.profilePicUrl.trim() | urlTransform}}" alt="{{acc.nickname}}">
        <div class="flex flex-row">
          <h2 class="title-large tracking-wide font-bold mt-sm">{{acc.nickname}}</h2>
          @if (isAccountCurrentUsers) {
            <pp-change-username/>
          }
        </div>
      </div>
      <div class="flex gap-md sm:gap-xl md:gap-xl justify-center items-center flex-wrap">
        <span class="tag title-small white-text">
          Posts: {{ acc.pictureCount || 0 }}
        </span>
        <span class="tag title-small white-text">
          Likes: {{ likesCount || 0 }}
        </span>
        <span class="tag title-small white-text">
          Comments: {{ commentsCount || 0 }}
        </span>
      </div>
      <div class="grid grid-cols-2 gap-md mt-sm">
        @for (picture of (pictures$ | async); track trackByPictureId($index, picture)) {
          <pp-post-preview [pic]="picture"/>
        }
      </div>
    </div>
  </div>
}